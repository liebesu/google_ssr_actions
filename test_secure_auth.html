<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ” å®‰å…¨è®¤è¯æµ‹è¯•</title>
    <style>
        body { 
            font-family: 'Segoe UI', Arial, sans-serif; 
            margin: 20px; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .container {
            background: white;
            border-radius: 16px;
            padding: 40px;
            max-width: 800px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }
        h1 {
            color: #667eea;
            margin: 0 0 10px 0;
            font-size: 32px;
        }
        .subtitle {
            color: #666;
            margin: 0 0 30px 0;
        }
        .test-section { 
            margin: 25px 0; 
            padding: 20px; 
            border: 2px solid #e0e0e0; 
            border-radius: 12px; 
            background: #f9f9f9;
        }
        .test-section h3 {
            margin: 0 0 15px 0;
            color: #333;
            font-size: 18px;
        }
        .result { 
            margin: 12px 0; 
            padding: 15px; 
            border-radius: 8px; 
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 14px;
            line-height: 1.6;
        }
        .success { 
            background: #d4edda; 
            color: #155724; 
            border: 1px solid #c3e6cb;
        }
        .error { 
            background: #f8d7da; 
            color: #721c24; 
            border: 1px solid #f5c6cb;
        }
        .info { 
            background: #d1ecf1; 
            color: #0c5460; 
            border: 1px solid #bee5eb;
        }
        .warning {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
        input, button { 
            padding: 12px 16px; 
            margin: 8px 5px 8px 0; 
            border-radius: 8px; 
            border: 2px solid #ddd; 
            background: white;
            font-size: 14px;
            transition: all 0.3s;
        }
        input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        button { 
            cursor: pointer; 
            background: #667eea;
            color: white;
            border: none;
            font-weight: 600;
            padding: 12px 24px;
        }
        button:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }
        button:active {
            transform: translateY(0);
        }
        .credential-box {
            background: #f0f4ff;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #667eea;
        }
        .credential-box h4 {
            margin: 0 0 10px 0;
            color: #667eea;
        }
        .credential-box p {
            margin: 8px 0;
            font-family: monospace;
        }
        .credential-box strong {
            color: #333;
        }
        code {
            background: #e8e8e8;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 13px;
        }
        .security-note {
            background: #fffbea;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #f59e0b;
            margin: 20px 0;
        }
        .security-note h4 {
            margin: 0 0 10px 0;
            color: #f59e0b;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ” å®‰å…¨è®¤è¯ç³»ç»Ÿæµ‹è¯•</h1>
        <p class="subtitle">æµ‹è¯•æ–°çš„å¯†ç å’Œå®‰å…¨æœºåˆ¶</p>
        
        <div class="credential-box">
            <h4>ğŸ“‹ å½“å‰è®¤è¯å‡­æ®</h4>
            <p><strong>ç”¨æˆ·åï¼š</strong><code>liebesu</code></p>
            <p><strong>å¯†ç ï¼š</strong><code>Liebesu!@#</code></p>
            <p><strong>å¯†ç SHA-256ï¼š</strong><code>0d605622a936837919436b104b6f15fabeb1f0dea561a631abf8873858f0526a</code></p>
        </div>

        <div class="security-note">
            <h4>ğŸ›¡ï¸ å®‰å…¨æ”¹è¿›</h4>
            <p>âœ… é¡µé¢å†…å®¹é»˜è®¤éšè—ï¼ˆ<code>display:none</code>ï¼‰</p>
            <p>âœ… åªæœ‰è®¤è¯æˆåŠŸåæ‰æ˜¾ç¤ºå†…å®¹</p>
            <p>âœ… å³ä½¿åˆ é™¤ç™»å½•æ¡†ï¼Œå†…å®¹ä»ç„¶éšè—</p>
            <p>âœ… ä½¿ç”¨ SHA-256 å“ˆå¸ŒéªŒè¯å¯†ç </p>
        </div>
        
        <div class="test-section">
            <h3>ğŸ“Š å½“å‰è®¤è¯çŠ¶æ€</h3>
            <div id="current-auth" class="result info">æ£€æŸ¥ä¸­...</div>
        </div>
        
        <div class="test-section">
            <h3>ğŸ”‘ æµ‹è¯•å¯†ç å“ˆå¸Œ</h3>
            <input type="text" id="test-password" placeholder="è¾“å…¥å¯†ç æµ‹è¯•" style="width: 300px;" />
            <button onclick="testPassword()">è®¡ç®—å“ˆå¸Œ</button>
            <div id="password-result" class="result" style="display:none;"></div>
        </div>
        
        <div class="test-section">
            <h3>âœ… å®Œæ•´è®¤è¯æµ‹è¯•</h3>
            <input type="text" id="test-user" placeholder="ç”¨æˆ·å" value="liebesu" style="width: 200px;" />
            <input type="password" id="test-pass" placeholder="å¯†ç " style="width: 200px;" />
            <button onclick="testAuth()">æµ‹è¯•è®¤è¯</button>
            <div id="auth-result" class="result" style="display:none;"></div>
        </div>

        <div class="test-section">
            <h3>ğŸ§ª å®‰å…¨æµ‹è¯•åœºæ™¯</h3>
            <button onclick="testBypassAttempt()">å°è¯•ç»•è¿‡è®¤è¯</button>
            <button onclick="clearStorage()">æ¸…é™¤è®¤è¯ç¼“å­˜</button>
            <div id="bypass-result" class="result" style="display:none;"></div>
        </div>

        <div class="test-section">
            <h3>ğŸ“ å¿«é€Ÿæ“ä½œ</h3>
            <button onclick="saveValidAuth()">ä¿å­˜æœ‰æ•ˆè®¤è¯</button>
            <button onclick="window.open('index.html', '_blank')">æ‰“å¼€ä¸»é¡µ</button>
            <button onclick="location.reload()">åˆ·æ–°æµ‹è¯•é¡µ</button>
        </div>

    </div>

    <script>
        // ä½¿ç”¨å®é™…çš„è®¤è¯ä¿¡æ¯
        const AUTH_HASH = "0d605622a936837919436b104b6f15fabeb1f0dea561a631abf8873858f0526a";
        const AUTH_USER = "liebesu";
        
        async function sha256(message) {
            const msgBuffer = new TextEncoder().encode(message);
            const hashBuffer = await crypto.subtle.digest('SHA-256', msgBuffer);
            const hashArray = Array.from(new Uint8Array(hashBuffer));
            return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
        }
        
        function updateCurrentAuth() {
            const div = document.getElementById('current-auth');
            const storedHash = localStorage.getItem('gauth');
            const storedUser = localStorage.getItem('guser');
            
            let html = `
                <strong>æœŸæœ›å€¼ï¼š</strong><br>
                ç”¨æˆ·å: ${AUTH_USER}<br>
                å¯†ç å“ˆå¸Œ: ${AUTH_HASH.substring(0, 32)}...<br><br>
                <strong>å­˜å‚¨å€¼ï¼š</strong><br>
                ç”¨æˆ·å: ${storedUser || 'æœªå­˜å‚¨'}<br>
                å¯†ç å“ˆå¸Œ: ${storedHash ? storedHash.substring(0, 32) + '...' : 'æœªå­˜å‚¨'}
            `;
            
            if (storedHash && storedUser) {
                const hashMatch = storedHash.toLowerCase() === AUTH_HASH.toLowerCase();
                const userMatch = storedUser === AUTH_USER;
                
                if (hashMatch && userMatch) {
                    div.className = 'result success';
                    html += '<br><br>âœ… <strong>è®¤è¯æœ‰æ•ˆ</strong>';
                } else {
                    div.className = 'result error';
                    html += '<br><br>âŒ <strong>è®¤è¯æ— æ•ˆ</strong>';
                    if (!hashMatch) html += '<br>å¯†ç å“ˆå¸Œä¸åŒ¹é…';
                    if (!userMatch) html += '<br>ç”¨æˆ·åä¸åŒ¹é…';
                }
            } else {
                div.className = 'result warning';
                html += '<br><br>âš ï¸ <strong>æœªç™»å½•</strong>';
            }
            
            div.innerHTML = html;
        }
        
        async function testPassword() {
            const password = document.getElementById('test-password').value;
            const resultDiv = document.getElementById('password-result');
            
            if (!password) {
                resultDiv.style.display = 'block';
                resultDiv.className = 'result error';
                resultDiv.textContent = 'âŒ è¯·è¾“å…¥å¯†ç ';
                return;
            }
            
            const hash = await sha256(password);
            const match = hash.toLowerCase() === AUTH_HASH.toLowerCase();
            
            resultDiv.style.display = 'block';
            resultDiv.className = match ? 'result success' : 'result error';
            resultDiv.innerHTML = `
                ${match ? 'âœ… å¯†ç æ­£ç¡®!' : 'âŒ å¯†ç é”™è¯¯'}<br><br>
                <strong>è¾“å…¥å¯†ç ï¼š</strong>${password}<br>
                <strong>è®¡ç®—å“ˆå¸Œï¼š</strong>${hash}<br>
                <strong>åŒ¹é…ç»“æœï¼š</strong>${match ? 'åŒ¹é…' : 'ä¸åŒ¹é…'}
            `;
        }
        
        async function testAuth() {
            const user = document.getElementById('test-user').value;
            const pass = document.getElementById('test-pass').value;
            const resultDiv = document.getElementById('auth-result');
            
            if (!user || !pass) {
                resultDiv.style.display = 'block';
                resultDiv.className = 'result error';
                resultDiv.textContent = 'âŒ è¯·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ';
                return;
            }
            
            const hash = await sha256(pass);
            const userOk = user === AUTH_USER;
            const passOk = hash.toLowerCase() === AUTH_HASH.toLowerCase();
            const authOk = userOk && passOk;
            
            resultDiv.style.display = 'block';
            resultDiv.className = authOk ? 'result success' : 'result error';
            resultDiv.innerHTML = `
                ${authOk ? 'âœ… è®¤è¯æˆåŠŸ!' : 'âŒ è®¤è¯å¤±è´¥'}<br><br>
                <strong>ç”¨æˆ·åéªŒè¯ï¼š</strong>${userOk ? 'âœ… é€šè¿‡' : 'âŒ å¤±è´¥'} (${user} vs ${AUTH_USER})<br>
                <strong>å¯†ç éªŒè¯ï¼š</strong>${passOk ? 'âœ… é€šè¿‡' : 'âŒ å¤±è´¥'}<br>
                <strong>è®¡ç®—å“ˆå¸Œï¼š</strong>${hash.substring(0, 32)}...
            `;
            
            if (authOk) {
                setTimeout(() => {
                    resultDiv.innerHTML += '<br><br>ğŸ’¾ æ­£åœ¨ä¿å­˜è®¤è¯ä¿¡æ¯...';
                    try {
                        localStorage.setItem('gauth', hash);
                        localStorage.setItem('guser', user);
                        resultDiv.innerHTML += '<br>âœ… è®¤è¯ä¿¡æ¯å·²ä¿å­˜åˆ° LocalStorage';
                        updateCurrentAuth();
                    } catch(e) {
                        resultDiv.innerHTML += '<br>âŒ ä¿å­˜å¤±è´¥: ' + e.message;
                    }
                }, 500);
            }
        }
        
        function testBypassAttempt() {
            const resultDiv = document.getElementById('bypass-result');
            resultDiv.style.display = 'block';
            resultDiv.className = 'result info';
            
            let html = '<strong>ğŸ”¬ å®‰å…¨æµ‹è¯•ç»“æœï¼š</strong><br><br>';
            
            // æµ‹è¯•1ï¼šå°è¯•ç›´æ¥æ˜¾ç¤ºå†…å®¹
            const wrap = document.querySelector('.wrap');
            if (wrap) {
                html += 'âŒ åœ¨æµ‹è¯•é¡µæ²¡æœ‰æ‰¾åˆ° .wrap å…ƒç´ ï¼ˆè¿™æ˜¯æ­£å¸¸çš„ï¼‰<br>';
            } else {
                html += 'âœ… æµ‹è¯•é¡µä¸åŒ…å«ä¸»å†…å®¹å…ƒç´ <br>';
            }
            
            // æµ‹è¯•2ï¼šæ£€æŸ¥è®¤è¯çŠ¶æ€
            const storedHash = localStorage.getItem('gauth');
            const storedUser = localStorage.getItem('guser');
            
            if (storedHash && storedUser) {
                const valid = storedHash.toLowerCase() === AUTH_HASH.toLowerCase() && 
                             storedUser === AUTH_USER;
                html += valid ? 
                    'âœ… LocalStorage åŒ…å«æœ‰æ•ˆè®¤è¯ä¿¡æ¯<br>' : 
                    'âš ï¸ LocalStorage åŒ…å«æ— æ•ˆè®¤è¯ä¿¡æ¯<br>';
            } else {
                html += 'âš ï¸ LocalStorage æ— è®¤è¯ä¿¡æ¯<br>';
            }
            
            html += '<br><strong>ğŸ’¡ å®‰å…¨å»ºè®®ï¼š</strong><br>';
            html += 'â€¢ é¡µé¢å†…å®¹åº”è¯¥é»˜è®¤éšè—ï¼ˆCSS: display:noneï¼‰<br>';
            html += 'â€¢ åªæœ‰é€šè¿‡ JavaScript éªŒè¯åæ‰æ˜¾ç¤º<br>';
            html += 'â€¢ å³ä½¿åˆ é™¤ç™»å½•æ¡†ï¼Œå†…å®¹ä»ç„¶éšè—<br>';
            html += 'â€¢ è®¤è¯æˆåŠŸåæ‰åŠ¨æ€æ˜¾ç¤ºå†…å®¹<br>';
            
            resultDiv.innerHTML = html;
        }
        
        function clearStorage() {
            localStorage.removeItem('gauth');
            localStorage.removeItem('guser');
            updateCurrentAuth();
            
            const resultDiv = document.getElementById('bypass-result');
            resultDiv.style.display = 'block';
            resultDiv.className = 'result success';
            resultDiv.innerHTML = 'âœ… LocalStorage å·²æ¸…é™¤<br>åˆ·æ–°ä¸»é¡µå°†æ˜¾ç¤ºç™»å½•æ¡†';
        }
        
        async function saveValidAuth() {
            const hash = AUTH_HASH;
            const user = AUTH_USER;
            
            try {
                localStorage.setItem('gauth', hash);
                localStorage.setItem('guser', user);
                
                const resultDiv = document.getElementById('bypass-result');
                resultDiv.style.display = 'block';
                resultDiv.className = 'result success';
                resultDiv.innerHTML = `
                    âœ… æœ‰æ•ˆè®¤è¯ä¿¡æ¯å·²ä¿å­˜<br><br>
                    ç”¨æˆ·å: ${user}<br>
                    å¯†ç å“ˆå¸Œ: ${hash.substring(0, 32)}...<br><br>
                    ğŸ’¡ ç°åœ¨æ‰“å¼€ä¸»é¡µåº”è¯¥èƒ½ç›´æ¥çœ‹åˆ°å†…å®¹
                `;
                
                updateCurrentAuth();
            } catch(e) {
                alert('ä¿å­˜å¤±è´¥: ' + e.message);
            }
        }
        
        // é¡µé¢åŠ è½½æ—¶æ›´æ–°æ˜¾ç¤º
        updateCurrentAuth();
        
        // è‡ªåŠ¨å¡«å……æµ‹è¯•å¯†ç 
        document.getElementById('test-password').value = 'Liebesu!@#';
        document.getElementById('test-pass').value = 'Liebesu!@#';
    </script>
</body>
</html>

